<!DOCTYPE html>
<html lang=en>
<head>
<title>Dashboard VB#35</title>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel=stylesheet type=text/css href=css/main.css>
<link href="https://fonts.googleapis.com/css?family=Quicksand" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css>
<link rel=stylesheet href=https://unpkg.com/leaflet@1.6.0/dist/leaflet.css integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin />
<script src=https://unpkg.com/leaflet@1.6.0/dist/leaflet.js integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin></script>
</head>
<body>
<html>
<head>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js></script>
</head>
<body>
<div id=gradient />
</body>
<header>
<center>
<div id=eyantraLogo>
<img src=https://eyic.e-yantra.org/img/eYantra_logo_whitetext.png alt=e_yantra_logo width=435 height=90><br>
</div>
<h2>VB#35 DASHBOARD</h2>
<p></p>
</center>
</header>
</html>
<script src=js/script_bg.js></script>
<div id=map style=height:400px></div>
<div class=chartBarsWrap>
<h1>Time taken for items to be shipped</h1>
<div class="chartBars chartBars1">
<ul class=numbers>
<li><span>300 s</span></li>
<li><span>240 s</span></li>
<li><span>180 s</span></li>
<li><span>120 s</span></li>
<li><span>60 s</span></li>
<li><span>0 s</span></li>
</ul>
<ul class=bars id=barContent>
</ul>
</div>
</div>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js></script><script src=js/script.js></script>
<div class=limiter>
<div class=container-table100>
<div class=wrap-table100>
<div class=table100>
<table>
<thead>
<tr class=table100-head>
<th class=column1>Order ID</th>
<th class=column2>Item</th>
<th class=column3>Priority</th>
<th class=column4>City</th>
<th class=column5>Dispatched</th>
<th class=column6>Shipped</th>
<th class=column7>Order Date and Time</th>
<th class=column8>Dispatch Date and Time</th>
<th class=column9>Shipping Date and Time</th>
<th class=column10>Time Taken</th>
</tr>
</thead>
<tbody id=tableContent>
</tbody>
</table>
</div>
</div>
</div>
</div>
</body>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js></script>
<script>$(document).ready(function(){refreshTable();setInterval(refreshTable,1000)});function refreshTable(){$.getJSON("https://spreadsheets.google.com/feeds/list/1nXS8Yt_g43kDDVGP4A8GmCnC32Mz_tguSjljr2f4A3Y/1/public/full?alt=json",function(d){var c="";for(var a=0;a<d.feed.entry.length;++a){var b,e;c+='<tr><td class="column1">'+d.feed.entry[a].gsx$orderid.$t+'</td><td class="column2">'+d.feed.entry[a].gsx$item.$t+'</td><td class="column3">'+d.feed.entry[a].gsx$priority.$t+'</td><td class="column4">'+d.feed.entry[a].gsx$city.$t+'</td><td class="column5">'+d.feed.entry[a].gsx$dispatched.$t+'</td><td class="column6">'+d.feed.entry[a].gsx$shipped.$t+'</td><td class="column7">'+d.feed.entry[a].gsx$orderdateandtime.$t+'</td><td class="column8">'+d.feed.entry[a].gsx$dispatchdateandtime.$t+'</td><td class="column9">'+d.feed.entry[a].gsx$shippeddateandtime.$t+'</td><td class="column10">'+d.feed.entry[a].gsx$timetaken.$t+"</td></tr>"}$("#tableContent").html(c);var c=""})}</script>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js></script>
<script>$(document).ready(function(){refreshMap();setInterval(refreshMap,5000)});function refreshMap(){var a=L.DomUtil.get("map");if(a!=null){a._leaflet_id=null}var c=L.map("map").setView([20.5937,78.9629],4);var b=[];$.getJSON("https://spreadsheets.google.com/feeds/list/1nXS8Yt_g43kDDVGP4A8GmCnC32Mz_tguSjljr2f4A3Y/1/public/full?alt=json",function(l){for(var m=0;m<l.feed.entry.length;++m){var g={City:l.feed.entry[m].gsx$city.$t,OderID:l.feed.entry[m].gsx$orderid.$t,Item:l.feed.entry[m].gsx$item.$t,Latitude:parseFloat(l.feed.entry[m].gsx$latitude.$t),Longitude:parseFloat(l.feed.entry[m].gsx$longitude.$t),Shipped:l.feed.entry[m].gsx$shipped.$t,Dispatched:l.feed.entry[m].gsx$dispatched.$t};b.push(g);var e=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});var d=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});var f=new L.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});for(var h=0;h<b.length;h++){var o;if(b[h].Shipped=="YES"&&b[h].Dispatched=="YES"){o=e}else{if(b[h].Shipped=="NO"&&b[h].Dispatched=="YES"){o=f}else{if(b[h].Shipped=="NO"&&b[h].Dispatched=="NO"){o=d}}}var k=L.marker(L.latLng(parseFloat(b[h].Latitude),parseFloat(b[h].Longitude)),{icon:o});k.bindPopup(b[h].City,{autoClose:false});c.addLayer(k);k.on("click",n);k.myJsonData=b[h];function n(j){var i=j.target;popup=L.popup().setLatLng(i.getLatLng()).setContent("Order ID: "+i.myJsonData.OderID+" || Item: "+i.myJsonData.Item).openOn(c)}L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(c)}}})}</script>
<script>$(document).ready(function(){refreshBar();var a=setInterval(refreshBar,1000)});var last_tr="";function refreshBar(){$.getJSON("https://spreadsheets.google.com/feeds/list/1nXS8Yt_g43kDDVGP4A8GmCnC32Mz_tguSjljr2f4A3Y/1/public/full?alt=json",function(e){var d="";for(var a=0;a<e.feed.entry.length;++a){var c,f;var b="";if(e.feed.entry[a].gsx$priority.$t==="LP"){b="greenBar"}else{if(e.feed.entry[a].gsx$priority.$t==="MP"){b="yellowBar"}else{if(e.feed.entry[a].gsx$priority.$t==="HP"){b="redBar"}}}d+='<li><span class="tooltip"> <span class="tooltipContent">'+e.feed.entry[a].gsx$orderid.$t+", Time taken:"+e.feed.entry[a].gsx$timetaken.$t+"</span> <div data-percentage="+e.feed.entry[a].gsx$timetaken.$t+' class="bar '+b+' onAppear"></div> </span><b>'+e.feed.entry[a].gsx$orderid.$t+"</b> </li>"}if(last_tr===d){}else{$("#barContent").html(d);document.getElementById("barContent").click()}last_tr=d;var d=""})};</script>
</html>